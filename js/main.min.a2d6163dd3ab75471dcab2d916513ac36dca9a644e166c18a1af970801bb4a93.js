(()=>{var e,n,s,i,a,o=class{constructor(e){this.element=e}init(){document.addEventListener("widgetsDestroy",e=>{e.detail.container&&e.detail.container.contains(this.element)&&this.destroy()})}destroy(){}},t=class _Drawer extends o{constructor(e){super(e),this.isOpen=!1,this.drawerName=this.element.dataset.drawer,this.closers=document.querySelectorAll(`[data-drawer-close="${this.drawerName}"]`),this.togglers=document.querySelectorAll(`[data-drawer-toggle="${this.drawerName}"]`)}static{this.NAME="drawer"}static registerWidget(){window.app!==void 0&&window.app.addWidget({name:_Drawer.NAME,load:_Drawer.attachWidgetToElements})}static attachWidgetToElements(e){const t=e.querySelectorAll(`[data-${_Drawer.NAME}]`);t.forEach(e=>{const t=new _Drawer(e);t.init()})}init(){const e=()=>{this.isOpen&&this.close()},t=()=>{this.isOpen?this.close():this.open()};window.addEventListener("resize",e),this.closers.forEach(t=>{t.addEventListener("click",e)}),this.togglers.forEach(e=>{e.addEventListener("click",t)})}open(){if(this.isOpen)return;this.isOpen=!0,requestAnimationFrame(()=>{document.body.classList.add("drawer-open"),this.element.classList.add("is-active"),this.togglers.forEach(e=>{e.classList.add("is-open"),e.setAttribute("aria-expanded","true")}),requestAnimationFrame(()=>{this.element.classList.add("is-open")})})}close(){if(!this.isOpen)return;this.isOpen=!1,requestAnimationFrame(()=>{document.body.classList.remove("drawer-open"),this.element.classList.remove("is-open"),this.togglers.forEach(e=>{e.classList.remove("is-open"),e.setAttribute("aria-expanded","false")}),requestAnimationFrame(()=>{setTimeout(()=>{this.element.classList.remove("is-active")},600)})})}};document.readyState!=="loading"?(t.registerWidget(),t.attachWidgetToElements(document)):document.addEventListener("DOMContentLoaded",()=>{t.registerWidget(),t.attachWidgetToElements(document)}),e=class _Header extends o{constructor(e){super(e),this.updateScheduled=!1,this.scrollOffset=200,this.scrollingDown=!0,this.scrollY=0,this.scrollYOld=0,this.screenWidth=window.innerWidth,this.headerHeight=this.element.clientHeight}static{this.NAME="header"}static registerWidget(){window.app!==void 0&&window.app.addWidget({name:_Header.NAME,load:_Header.attachWidgetToElements})}static attachWidgetToElements(e){const t=e.querySelectorAll(`[data-${_Header.NAME}]`);t.forEach(e=>{const t=new _Header(e);t.init()})}init(){window.addEventListener("scroll",()=>{this.onScroll()}),window.addEventListener("resize",()=>{this.onResize()}),this.onScroll()}onScroll(){this.scrollY=window.scrollY,this.scrollingDown=this.scrollY>this.scrollYOld,this.scrollYOld=this.scrollY,this.updateScheduled||(this.updateScheduled=!0,requestAnimationFrame(()=>{this.setSticky(),this.setVisibility(),this.updateScheduled=!1}))}onResize(){this.screenWidth=window.innerWidth,this.headerHeight=this.element.clientHeight}setSticky(){this.scrollY>this.headerHeight+this.scrollOffset?this.element.classList.add("is-sticky"):this.element.classList.remove("is-sticky","is-shown")}setVisibility(){this.scrollY>this.headerHeight+this.scrollOffset&&(this.scrollingDown?this.element.classList.remove("is-shown"):this.element.classList.add("is-shown"))}},document.readyState!=="loading"?(e.registerWidget(),e.attachWidgetToElements(document)):document.addEventListener("DOMContentLoaded",()=>{e.registerWidget(),e.attachWidgetToElements(document)}),i=e=>{let t=!1;e.focus(),document.activeElement!==e&&(t=!0,e.setAttribute("tabindex","-1"),e.focus()),requestAnimationFrame(()=>{e.blur(),t&&e.removeAttribute("tabindex")})},a=e=>{if(!e)return!1;const t=e.getBoundingClientRect().top+window.scrollY-80;return window.scroll({top:t,behavior:"smooth"}),i(e),!0},n=e=>{const n=e.replace("#","");let t=document.getElementById(n);return t||(t=document.querySelector(`[name="${n}"]`)),a(t)},s=class{constructor(){this.widgets=[],this.widgetMap={[t.NAME]:t,[e.NAME]:e},this.initWidgets(),requestAnimationFrame(()=>{this.scrollTo(),this.externalLinks()})}initWidgets(e){const t=e||document;for(const e in this.widgetMap){const n=t.querySelectorAll("[data-".concat(e).concat("]"));n.forEach(t=>{new this.widgetMap[e](t)})}}addWidget(e){this.widgets.find(t=>t.name===e.name)||this.widgets.push(e)}reLoadWidgets(e){for(const t of this.widgets)t.load(e)}scrollTo(){const e=window.location.hash,t=/^#[a-zA-Z0-9-_]+$/;t.test(e)&&n(e),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=e.getAttribute("href");n(s)})})}externalLinks(){const e=new RegExp(`/${window.location.host}/`),t=Array.from(document.getElementsByTagName("a"));for(const n of t)e.test(n.href)||(n.setAttribute("rel","noopener"),n.setAttribute("target","_blank"))}},document.readyState!=="loading"?window.app=new s:document.addEventListener("DOMContentLoaded",()=>{window.app=new s})})()